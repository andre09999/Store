(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{23:function(t,e,a){t.exports=a(42)},28:function(t,e,a){},30:function(t,e,a){},31:function(t,e,a){},32:function(t,e,a){},41:function(t,e,a){},42:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),o=(a(28),a(2)),s=a.n(o),u=a(15),l=a(11),d=a(4),m=a(5),p=a(7),h=a(6),f=(a(30),a(12)),v=a(1),b=a(20);a(31);function E(){return g.apply(this,arguments)}function g(){return(g=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://api.mercadolibre.com/sites/MLB/categories").then((function(t){return t.json()})).then((function(t){return t})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(s.a.mark((function t(e,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(e,"&q=").concat(a)).then((function(t){return t.json()})).then((function(t){return t})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://api.mercadolibre.com/items/".concat(e)).then((function(t){return t.json()})).then((function(t){return t})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var C=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).state={barra:[]},t}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var t=Object(l.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:e=t.sent,this.setState({barra:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.barra,e=this.props.getCategory;return r.a.createElement("aside",{id:"categories-sidebar"},t.map((function(t,a){return r.a.createElement("button",{key:a,type:"button",className:"button-categories","data-testid":"category",onClick:e,name:t.id},t.name)})))}}]),a}(r.a.Component),S=(a(32),function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var t=this.props,e=t.product,a=t.addCart;return r.a.createElement("div",{className:"product-list"},0===e.length?"Nenhum produto foi encontrado":e.map((function(t,e){return r.a.createElement("div",{key:e,"data-testid":"product",className:"product"},r.a.createElement(f.b,{"data-testid":"product-detail-link",to:"/lista/".concat(t.id)},r.a.createElement("p",null,t.title),r.a.createElement("img",{src:t.thumbnail,alt:"Foto Produto"}),r.a.createElement("p",null,t.price)),r.a.createElement("button",{"data-testid":"product-add-to-cart",type:"button",name:JSON.stringify(t),onClick:a},"Adicionar ao carrinho"))})))}}]),a}(r.a.Component)),N=(a(41),function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var t=this.props,e=t.search,a=t.onSaveButton,n=t.inputChangeValue;return r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"text",name:"search",value:e,onChange:n,"data-testid":"query-input"}),r.a.createElement("button",{type:"button","data-testid":"query-button",onClick:a},"Procurar"))}}]),a}(r.a.Component)),x=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).onSaveButton=Object(l.a)(s.a.mark((function e(){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.state,n=a.search,r=a.category,!(n.length>1||""!==r)){e.next=6;break}return e.next=4,y(r,n);case 4:c=e.sent,t.setState({product:c.results});case 6:case"end":return e.stop()}}),e)}))),t.inputChangeValue=function(e){var a=e.target,n=a.value,r=a.name;t.setState(Object(b.a)({},r,n))},t.getCategory=function(e){var a=e.target.name;t.setState({category:a},t.onSaveButton)},t.state={search:"",category:"",product:[]},t}return Object(m.a)(a,[{key:"render",value:function(){var t=this.state,e=t.search,a=t.product,n=t.category,c=this.props.addCart;return r.a.createElement("main",{id:"main-home"},r.a.createElement(C,{category:n,getCategory:this.getCategory}),r.a.createElement("section",{className:"home-content"},r.a.createElement(N,{search:e,inputChangeValue:this.inputChangeValue,onSaveButton:this.onSaveButton}),0===a.length&&r.a.createElement("p",{"data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria."),r.a.createElement(S,{category:n,product:a,addCart:c})))}}]),a}(r.a.Component),q=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var t=this.props,e=t.productList,a=t.clickDecrement,n=t.clickIncrement;return r.a.createElement("div",null,(null===e||void 0===e?void 0:e.length)>0?e.map((function(t,e){return r.a.createElement("div",{key:e},r.a.createElement("h3",{"data-testid":"shopping-cart-product-name"},t.title),r.a.createElement("h3",null,t.price),r.a.createElement("img",{alt:t.title,src:t.thumbnail}),r.a.createElement("div",{className:"quantity-calc"},r.a.createElement("input",{type:"button",className:"decrement",name:t.id,onClick:a,"data-testid":"product-decrease-quantity",value:"-"}),r.a.createElement("p",{"data-testid":"shopping-cart-product-quantity"},t.quantity),r.a.createElement("input",{type:"button",className:"increment",name:t.id,onClick:n,"data-testid":"product-increase-quantity",value:"+"})))})):r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio"),r.a.createElement(f.b,{"data-testid":"checkout-products",to:"/checkout"},r.a.createElement("button",{type:"button"},"Finalizar")))}}]),a}(r.a.Component),w=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).salvarState=function(e){var a=e.target.value;console.log(a),"radio"===e.target.type&&t.setState({nota:a}),"email"===e.target.type&&t.setState({email:a}),"textarea"===e.target.type&&t.setState({mensagem:a})},t.enviarLocalStorage=function(){var e=t.state,a={nota:e.nota,email:e.email,mensagem:e.mensagem};console.log(a);var n=localStorage.getItem("classificacao");console.log(n),null===n?(localStorage.setItem("classificacao",JSON.stringify([a])),t.atualiza()):(localStorage.setItem("classificacao",JSON.stringify([].concat(Object(u.a)(JSON.parse(localStorage.getItem("classificacao"))),[a]))),t.atualiza())},t.state={Preview:[],describre:[],email:"",mensagem:"",nota:0,classificacao:[]},t}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var t=Object(l.a)(s.a.mark((function t(){var e,a,n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.match,a=e.params.id,t.next=4,O(a);case 4:n=t.sent,this.setState({Preview:n,describre:n.attributes}),r=JSON.parse(localStorage.getItem("classificacao")),this.setState({classificacao:r});case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"atualiza",value:function(){var t=JSON.parse(localStorage.getItem("classificacao"));this.setState({classificacao:t})}},{key:"render",value:function(){var t=this.state,e=t.Preview,a=t.describre,n=t.classificacao,c=this.props.addCart;return r.a.createElement("div",{"data-testid":"product-detail-name"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-info"},r.a.createElement("p",null,e.title),r.a.createElement("img",{src:e.thumbnail,alt:"Foto Produto",className:"foto"}),r.a.createElement("button",{"data-testid":"product-detail-add-to-cart",type:"button",name:JSON.stringify(e),onClick:c},"Adicionar ao carrinho"),r.a.createElement("form",{className:"container-detalhe"},r.a.createElement("input",{type:"email",placeholder:"Email","data-testid":"product-detail-email",onChange:this.salvarState}),r.a.createElement("p",null,"Digite sua nota"),r.a.createElement("input",{type:"radio",name:"nota",id:"nota1",value:"1","data-testid":"1-rating",onClick:this.salvarState}),"1",r.a.createElement("input",{type:"radio",name:"nota",id:"nota2",value:"2","data-testid":"2-rating",onClick:this.salvarState}),"2",r.a.createElement("input",{type:"radio",name:"nota",id:"nota3",value:"3","data-testid":"3-rating",onClick:this.salvarState}),"3",r.a.createElement("input",{type:"radio",name:"nota",id:"nota4",value:"4","data-testid":"4-rating",onClick:this.salvarState}),"4",r.a.createElement("input",{type:"radio",name:"nota",id:"nota5",value:"5","data-testid":"5-rating",onClick:this.salvarState}),"5",r.a.createElement("textarea",{"data-testid":"product-detail-evaluation",placeholder:"Mensagem (Opicional)",onChange:this.salvarState}),r.a.createElement("button",{type:"button","data-testid":"submit-review-btn",onClick:this.enviarLocalStorage},"Enviar"),(null===n||void 0===n?void 0:n.length)>0?n.map((function(t,e){return r.a.createElement("div",{key:e,className:"comentarios"},r.a.createElement("div",{className:"comentarios-rate"},r.a.createElement("p",null,t.email),r.a.createElement("p",null,t.nota)),r.a.createElement("p",null,t.mensagem))})):r.a.createElement("p",null))),r.a.createElement("div",{className:"container-detalhe"},a.map((function(t,e){return r.a.createElement("div",{key:e},r.a.createElement("p",null,t.name),r.a.createElement("hr",null),r.a.createElement("p",null,t.value_name))})))))}}]),a}(r.a.Component),L=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var t=this.props.quantidade;return r.a.createElement("header",{className:"header"},r.a.createElement(f.b,{className:"cart-ancor",to:"/"},"Home"),r.a.createElement(f.b,{"data-testid":"shopping-cart-button",className:"cart-ancor",to:"/cart"},"Cart",r.a.createElement("p",{"data-testid":"shopping-cart-size"},t)),r.a.createElement(f.b,{className:"cart-ancor",to:"/lista"},"List"))}}]),a}(r.a.Component),I=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"forms-Checkout"},r.a.createElement("h1",null,"Informa\xe7\xf5es do Comprador"),r.a.createElement("div",{className:"forms"},r.a.createElement("input",{type:"text",placeholder:"Nome","data-testid":"checkout-fullname"}),r.a.createElement("input",{type:"text",placeholder:"email","data-testid":"checkout-email"}),r.a.createElement("input",{type:"text",placeholder:"Cpf","data-testid":"checkout-cpf"}),r.a.createElement("input",{type:"text",placeholder:"Telefone","data-testid":"checkout-phone"}),r.a.createElement("input",{type:"text",placeholder:"CEP","data-testid":"checkout-cep"}),r.a.createElement("input",{type:"text",placeholder:"Endere\xe7o","data-testid":"checkout-address"})),r.a.createElement(f.b,{to:"/cart"}," Voltar "))}}]),a}(r.a.Component),J=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).addCart=function(){var e=Object(l.a)(s.a.mark((function e(a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.target,r=n.name,(c=JSON.parse(r)).quantity=1,t.setState((function(t){return{productList:[].concat(Object(u.a)(t.productList),[c]),quantidade:t.quantidade+1}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.clickIncrement=function(e){var a=e.target.name;t.state.productList.find((function(t){return t.id===a})).quantity+=1,console.log(t.state),t.setState((function(t){return{productList:t.productList,quantidade:t.quantidade+1}}))},t.clickDecrement=function(e){var a=e.target.name,n=t.state.productList.find((function(t){return t.id===a}));n.quantity=n.quantity<2?1:n.quantity-1,console.log(t.state),t.setState((function(t){return{productList:t.productList,quantidade:t.quantidade-1}}))},t.state={productList:[],quantidade:0},t}return Object(m.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.productList,n=e.quantidade;return r.a.createElement(f.a,{basename:"/Online-store"},r.a.createElement(L,{className:"header",quantidade:n}),r.a.createElement("div",{className:"route"},r.a.createElement(v.a,{exact:!0,path:"/",render:function(){return r.a.createElement(x,{addCart:t.addCart})}}),r.a.createElement(v.a,{exact:!0,path:"/cart",render:function(){return r.a.createElement(q,{productList:a,clickDecrement:t.clickDecrement,clickIncrement:t.clickIncrement})}}),r.a.createElement(v.a,{exact:!0,path:"/lista/:id",render:function(e){return r.a.createElement(w,Object.assign({},e,{addCart:t.addCart,productList:a}))}}),r.a.createElement(v.a,{path:"/checkout",component:I})))}}]),a}(r.a.Component);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.4bdae4c5.chunk.js.map