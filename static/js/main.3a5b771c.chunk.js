(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{24:function(t,e,a){t.exports=a(43)},29:function(t,e,a){},31:function(t,e,a){},32:function(t,e,a){},33:function(t,e,a){},42:function(t,e,a){},43:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(20),i=a.n(c),o=(a(29),a(2)),s=a.n(o),u=a(16),l=a(11),m=a(4),d=a(5),p=a(7),h=a(6),f=(a(31),a(12)),v=a(1),b=a(21);a(32);function g(){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://api.mercadolibre.com/sites/MLB/categories").then((function(t){return t.json()})).then((function(t){return t})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t,e){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(s.a.mark((function t(e,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(e,"&q=").concat(a)).then((function(t){return t.json()})).then((function(t){return t})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://api.mercadolibre.com/items/".concat(e)).then((function(t){return t.json()})).then((function(t){return t})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var N=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(m.a)(this,a),(t=e.call(this)).state={barra:[]},t}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=Object(l.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:e=t.sent,this.setState({barra:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.barra,e=this.props.getCategory;return r.a.createElement("aside",{id:"categories-sidebar"},t.map((function(t,a){return r.a.createElement("button",{key:a,type:"button",className:"button-categories","data-testid":"category",onClick:e,name:t.id},t.name)})))}}]),a}(r.a.Component),S=(a(33),function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(m.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var t=this.props,e=t.product,a=t.addCart;return r.a.createElement("div",{className:"product-list"},0===e.length?"Nenhum produto foi encontrado":e.map((function(t,e){return r.a.createElement("div",{key:e,"data-testid":"product",className:"product"},r.a.createElement(f.b,{"data-testid":"product-detail-link",className:"item-product",to:"/lista/".concat(t.id)},r.a.createElement("p",{className:"item-product-p"},t.title),r.a.createElement("img",{src:t.thumbnail,alt:"Foto Produto"}),r.a.createElement("p",{className:"item-product-p"},t.price)),r.a.createElement("button",{"data-testid":"product-add-to-cart",type:"button",className:"button",name:JSON.stringify(t),onClick:a},"Adicionar ao carrinho"))})))}}]),a}(r.a.Component)),C=(a(42),function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(m.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var t=this.props,e=t.search,a=t.onSaveButton,n=t.inputChangeValue;return r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"text",name:"search",value:e,onChange:n,"data-testid":"query-input",className:"button"}),r.a.createElement("button",{type:"button","data-testid":"query-button",onClick:a,className:"button enviar"},"Procurar"))}}]),a}(r.a.Component)),x=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(m.a)(this,a),(t=e.call(this)).onSaveButton=Object(l.a)(s.a.mark((function e(){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.state,n=a.search,r=a.category,!(n.length>1||""!==r)){e.next=6;break}return e.next=4,E(r,n);case 4:c=e.sent,t.setState({product:c.results});case 6:case"end":return e.stop()}}),e)}))),t.inputChangeValue=function(e){var a=e.target,n=a.value,r=a.name;t.setState(Object(b.a)({},r,n))},t.getCategory=function(e){var a=e.target.name;t.setState({category:a},t.onSaveButton)},t.state={search:"",category:"",product:[]},t}return Object(d.a)(a,[{key:"render",value:function(){var t=this.state,e=t.search,a=t.product,n=t.category,c=this.props.addCart;return r.a.createElement("main",{id:"main-home"},r.a.createElement(N,{category:n,getCategory:this.getCategory}),r.a.createElement("section",{className:"home-content"},r.a.createElement(C,{search:e,inputChangeValue:this.inputChangeValue,onSaveButton:this.onSaveButton}),0===a.length&&r.a.createElement("p",{"data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria."),r.a.createElement(S,{category:n,product:a,addCart:c})))}}]),a}(r.a.Component),L=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(m.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var t=this.props,e=t.productList,a=t.clickDecrement,n=t.clickIncrement;return r.a.createElement("div",{className:"container-cart"},(null===e||void 0===e?void 0:e.length)>0?e.map((function(t,e){return r.a.createElement("div",{key:e,className:"cart",id:e},r.a.createElement("h3",{"data-testid":"shopping-cart-product-name",className:"h3"},t.title),r.a.createElement("h3",null,t.price),r.a.createElement("img",{alt:t.title,src:t.thumbnail}),r.a.createElement("div",{className:"quantity-calc",id:e},r.a.createElement("input",{type:"button",value:"x",onClick:function(){document.getElementById("".concat(e)).parentNode.removeChild(document.getElementById("".concat(e)))}}),r.a.createElement("input",{type:"button",className:"decrement",name:t.id,onClick:a,"data-testid":"product-decrease-quantity",value:"-"}),r.a.createElement("p",{"data-testid":"shopping-cart-product-quantity",className:"gap"},t.quantity),r.a.createElement("input",{type:"button",className:"increment",name:t.id,onClick:n,"data-testid":"product-increase-quantity",value:"+"})))})):r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio"))}}]),a}(r.a.Component),w=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(m.a)(this,a),(t=e.call(this)).salvarState=function(e){var a=e.target.value;console.log(a),"radio"===e.target.type&&t.setState({nota:a}),"email"===e.target.type&&t.setState({email:a}),"textarea"===e.target.type&&t.setState({mensagem:a})},t.enviarLocalStorage=function(){var e=t.state,a={nota:e.nota,email:e.email,mensagem:e.mensagem};console.log(a);var n=localStorage.getItem("classificacao");console.log(n),null===n?(localStorage.setItem("classificacao",JSON.stringify([a])),t.atualiza()):(localStorage.setItem("classificacao",JSON.stringify([].concat(Object(u.a)(JSON.parse(localStorage.getItem("classificacao"))),[a]))),t.atualiza())},t.state={Preview:[],describre:[],email:"",mensagem:"",nota:0,classificacao:[]},t}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=Object(l.a)(s.a.mark((function t(){var e,a,n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.match,a=e.params.id,t.next=4,O(a);case 4:n=t.sent,this.setState({Preview:n,describre:n.attributes}),r=JSON.parse(localStorage.getItem("classificacao")),this.setState({classificacao:r});case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"atualiza",value:function(){var t=JSON.parse(localStorage.getItem("classificacao"));this.setState({classificacao:t})}},{key:"render",value:function(){var t=this.state,e=t.Preview,a=t.describre,n=t.classificacao,c=this.props.addCart;return r.a.createElement("div",{"data-testid":"product-detail-name"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-detalhe-1"},r.a.createElement("p",null,e.title),r.a.createElement("img",{src:e.thumbnail,alt:"Foto Produto",className:"foto"}),r.a.createElement("button",{"data-testid":"product-detail-add-to-cart",type:"button",name:JSON.stringify(e),onClick:c,className:"button"},"Adicionar ao carrinho"),r.a.createElement("form",{className:"container-detalhe-1"},r.a.createElement("input",{type:"email",placeholder:"Email","data-testid":"product-detail-email",className:"button input",onChange:this.salvarState}),r.a.createElement("p",null,"Digite sua nota"),r.a.createElement("div",{className:"score"},r.a.createElement("input",{className:"button input",type:"radio",name:"nota",id:"nota1",value:"1","data-testid":"1-rating",onClick:this.salvarState}),"1",r.a.createElement("input",{type:"radio",name:"nota",id:"nota2",value:"2","data-testid":"2-rating",onClick:this.salvarState}),"2",r.a.createElement("input",{type:"radio",name:"nota",id:"nota3",value:"3","data-testid":"3-rating",onClick:this.salvarState}),"3",r.a.createElement("input",{type:"radio",name:"nota",id:"nota4",value:"4","data-testid":"4-rating",onClick:this.salvarState}),"4",r.a.createElement("input",{type:"radio",name:"nota",id:"nota5",value:"5","data-testid":"5-rating",onClick:this.salvarState}),"5"),r.a.createElement("textarea",{"data-testid":"product-detail-evaluation",placeholder:"Mensagem (Opicional)",onChange:this.salvarState}),r.a.createElement("button",{type:"button","data-testid":"submit-review-btn",onClick:this.enviarLocalStorage,className:"button score"},"Enviar"),(null===n||void 0===n?void 0:n.length)>0?n.map((function(t,e){return r.a.createElement("div",{key:e,className:"comentarios"},r.a.createElement("div",{className:"comentarios-rate"},r.a.createElement("p",null,t.email),r.a.createElement("p",null,t.nota)),r.a.createElement("p",null,t.mensagem))})):r.a.createElement("p",null))),r.a.createElement("div",{className:"container-detalhe"},a.map((function(t,e){return r.a.createElement("div",{key:e},r.a.createElement("p",null,t.name," ",":"," ",t.value_name),r.a.createElement("hr",null))})))))}}]),a}(r.a.Component),I=a(15),q=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(m.a)(this,a),(t=e.call(this)).atualizaMenu=t.atualizaMenu.bind(Object(I.a)(t)),t.state={menusup:"menususpenso"},t}return Object(d.a)(a,[{key:"atualizaMenu",value:function(t){t.checked&&this.setState({menusup:"container-menu"}),t.checked||this.setState({menusup:"menususpenso"})}},{key:"render",value:function(){var t=this,e=this.state.menusup,a=this.props,n=a.clickDecrement,c=a.clickIncrement,i=a.productList;return r.a.createElement("header",{className:"header"},r.a.createElement(f.b,{className:"cart-ancor",to:"/"},"Home"),r.a.createElement(f.b,{"data-testid":"shopping-cart-button",className:"cart-ancor",to:"/cart"},"Cart"),r.a.createElement("label",{htmlFor:"check1",className:"label-menu"},r.a.createElement("input",{type:"checkbox",id:"check1",className:"menususpenso",onClick:function(e){t.atualizaMenu(e.target)}}),"List"),r.a.createElement("div",{className:e},r.a.createElement(L,{productList:i,clickDecrement:n,clickIncrement:c})))}}]),a}(r.a.Component),D=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(m.a)(this,a),(t=e.call(this)).addCart=function(){var e=Object(l.a)(s.a.mark((function e(a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.target,r=n.name,(c=JSON.parse(r)).quantity=1,t.setState((function(t){return{productList:[].concat(Object(u.a)(t.productList),[c])}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.clickIncrement=function(e){var a=e.target.name;t.state.productList.find((function(t){return t.id===a})).quantity+=1,console.log(t.state),t.setState((function(t){return{productList:t.productList}}))},t.clickDecrement=function(e){var a=e.target.name,n=t.state.productList.find((function(t){return t.id===a}));n.quantity=n.quantity<2?1:n.quantity-1,console.log(t.state),t.setState((function(t){return{productList:t.productList}}))},t.state={productList:[]},t}return Object(d.a)(a,[{key:"render",value:function(){var t=this,e=this.state.productList;return r.a.createElement(f.a,null,r.a.createElement(q,{className:"header",productList:e,clickDecrement:this.clickDecrement,clickIncrement:this.clickIncrement}),r.a.createElement("div",{className:"route"},r.a.createElement(v.a,{exact:!0,path:"/",render:function(){return r.a.createElement(x,{addCart:t.addCart})}}),r.a.createElement(v.a,{exact:!0,path:"/cart",render:function(){return r.a.createElement(L,{productList:e,clickDecrement:t.clickDecrement,clickIncrement:t.clickIncrement})}}),r.a.createElement(v.a,{exact:!0,path:"/lista/:id",render:function(a){return r.a.createElement(w,Object.assign({},a,{addCart:t.addCart,productList:e}))}})))}}]),a}(r.a.Component);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.3a5b771c.chunk.js.map